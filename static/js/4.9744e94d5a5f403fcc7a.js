webpackJsonp([4],{35:function(e,r,s){var v=s(0)(null,s(87),null,null);e.exports=v.exports},73:function(e,r,s){e.exports=s.p+"static/img/node1_1.2bb98e8.png"},74:function(e,r,s){e.exports=s.p+"static/img/node1_2.0e559e2.png"},87:function(e,r,s){e.exports={render:function(){var e=this,r=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,r=e.$createElement,v=e._self._c||r;return v("div",[v("div",{staticClass:"title"},[e._v("node进击后端（一）")]),e._v(" "),v("div",{staticClass:"tag"},[e._v("node")]),e._v(" "),v("summary",[e._v("玩了这么久的前端，数据库一直对我来说是一个向往的地方。自从node之后，前端er也可以玩玩数据库这种神秘的东西了，现在就通过一个小项目来试试吧。")]),e._v(" "),v("h3",[e._v("1. 项目目标")]),e._v(" "),v("p",[e._v("通过在前端操作实现数据库的CRUD操作")]),e._v(" "),v("h3",[e._v("2. 项目环境")]),e._v(" "),v("p",[e._v("项目前端由"),v("code",[e._v("vue")]),e._v("展示，数据请求通过"),v("code",[e._v("vue-resource")]),e._v("，"),v("code",[e._v("express")]),e._v("分管前端请求路由，"),v("code",[e._v("mysql")]),e._v("建立与数据库的连接和通讯。当然，本地需要搭建mysql数据库，用sqlyong进行可视化管理。")]),e._v(" "),v("h3",[e._v("3. 初始化数据库")]),e._v(" "),v("p",[e._v("通过sqlyong新建test数据库，在下面建立一个user的数据表，在user中创建关键字段，如图所示：")]),e._v(" "),v("p",[v("img",{attrs:{src:s(73),alt:""}})]),e._v(" "),v("h3",[e._v("4. 初始化vue前端界面")]),e._v(" "),v("p",[e._v("用vue脚手架工具 "),v("code",[e._v("vue-cli")]),e._v(" 构建项目，这个就没啥好说的，默认大家都会了哈")]),e._v(" "),v("p",[e._v("构建完成后"),v("code",[e._v("npm run dev")]),e._v("，在浏览器地址栏中输入"),v("code",[e._v("localhost:8080")]),e._v("查看。这里说一句，如果你的项目在构建的时候启用了esLint，那么写项目的时候要注意规范了，不然会有很多意想不到的错误。")]),e._v(" "),v("h3",[e._v("5. 初始化express")]),e._v(" "),v("p",[e._v("用express的生成器"),v("code",[e._v("npm install -g express-generator@4")]),e._v("创建app。在vue项目的根目录中"),v("code",[e._v("express api")]),e._v(" 生成express项目")]),e._v(" "),v("p",[e._v("具体关于express quick start 请查看"),v("a",{attrs:{href:"https://github.com/expressjs/express"}},[e._v("express")])]),e._v(" "),v("p",[e._v("项目到这里构建完成，看下我的目录结构")]),e._v(" "),v("p",[v("img",{attrs:{src:s(74),alt:""}})]),e._v(" "),v("p",[e._v("除了多出个api文件夹，其他跟我们之前用vue做的项目没啥区别")]),e._v(" "),v("h3",[e._v("6. 设计数据库交互api")]),e._v(" "),v("p",[e._v("api文件夹下新建config/db.js来管理数据库，新建dao/userDao.js 和 dao/userSql.js")]),e._v(" "),v("pre",[e._v("\r\n        // config/db.js\r\n        var mysql = {\r\n            host: '127.0.0.1',\r\n            port: '3306',\r\n            user: 'root',\r\n            password: '',\r\n            database: 'test'\r\n        }\r\n        module.exports = {\r\n            mysql: mysql\r\n        }\r\n    ")]),e._v(" "),v("pre",[e._v("\r\n        // dao/userSql.js\r\n        var sql = {\r\n            insert: 'INSERT INTO user(id, name, age) VALUES(0, ?, ?)',\r\n            delete: 'DELETE FROM user WHERE id = ?',\r\n            update: 'UPDATE user set name = ?, age = ? WHERE id = ?',\r\n            queryId: 'SELECT * from user WHERE id = ?',\r\n            queryALL: 'SELECT * from user'\r\n        }\r\n        module.exports = user\r\n    ")])])}]}}});
//# sourceMappingURL=4.9744e94d5a5f403fcc7a.js.map